"use strict";(()=>{var t={};t.id=6411,t.ids=[6411],t.modules={30517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14053:(t,e,o)=>{o.r(e),o.d(e,{headerHooks:()=>g,originalPathname:()=>y,patchFetch:()=>m,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>h,staticGenerationAsyncStorage:()=>P,staticGenerationBailout:()=>x});var r={};o.r(r),o.d(r,{GET:()=>u,POST:()=>l,dynamic:()=>c});var s=o(95419),n=o(69108),a=o(99678),i=o(95249);let c="force-dynamic";async function u(t){try{console.log("開始處理 /api/v1/doctors 的 GET 請求");let{searchParams:e}=t.nextUrl,o=(0,i.l9)("/doctors/");e.toString()&&(o.search=e.toString()),console.log(`[API Proxy] 發送 GET 請求至: ${o.toString()}`);let r=await fetch(o.toString(),{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!r.ok)return console.error(`[API Proxy] 取得醫師列表錯誤: ${r.status} ${r.statusText}`),Response.json({error:`取得醫師列表失敗: ${r.statusText}`},{status:r.status});let s=await r.json();return Response.json(s)}catch(t){return console.error("[API Proxy] 取得醫師列表錯誤:",t.message),Response.json({error:"取得醫師列表時發生錯誤"},{status:500})}}async function l(t){try{console.log("開始處理 /api/v1/doctors 的 POST 請求");let e=await t.json(),o=(0,i.l9)("/doctors/");console.log(`[API Proxy] 發送 POST 請求至: ${o.toString()}`),console.log("[API Proxy] 醫師資料:",e);let r=await fetch(o.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){console.error(`[API Proxy] 新增醫師錯誤: ${r.status} ${r.statusText}`);let t=await r.json().catch(()=>({detail:r.statusText}));return Response.json({error:"新增醫師失敗",detail:t.detail},{status:r.status})}let s=await r.json();return Response.json(s)}catch(t){return console.error("[API Proxy] 建立醫師資料錯誤:",t.message),Response.json({error:"建立醫師資料時發生錯誤"},{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/v1/doctors/route",pathname:"/api/v1/doctors",filename:"route",bundlePath:"app/api/v1/doctors/route"},resolvedPagePath:"/Users/mountainfung/Desktop/AWS-Aspiratcm_local/frontend/src/app/api/v1/doctors/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:P,serverHooks:h,headerHooks:g,staticGenerationBailout:x}=p,y="/api/v1/doctors/route";function m(){return(0,a.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:P})}},95419:(t,e,o)=>{t.exports=o(30517)},95249:(t,e,o)=>{function r(t=""){let e="https://clinic.aspiratcm.com/api/v1",o=e.endsWith("/")?e.slice(0,-1):e,r=t.startsWith("/")?t:`/${t}`;return new URL(`${o}${r}`)}o.d(e,{l9:()=>r})}};var e=require("../../../../webpack-runtime.js");e.C(t);var o=t=>e(e.s=t),r=e.X(0,[1638],()=>o(14053));module.exports=r})();