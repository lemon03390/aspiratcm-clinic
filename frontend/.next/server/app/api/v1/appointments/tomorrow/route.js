"use strict";(()=>{var e={};e.id=6004,e.ids=[6004],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},57147:e=>{e.exports=require("fs")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},22037:e=>{e.exports=require("os")},71017:e=>{e.exports=require("path")},12781:e=>{e.exports=require("stream")},76224:e=>{e.exports=require("tty")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},2618:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>h,originalPathname:()=>q,patchFetch:()=>x,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>f});var o={};t.r(o),t.d(o,{GET:()=>c});var s=t(95419),a=t(69108),n=t(99678),i=t(83949),p=t(78070),u=t(85638);async function c(e){try{console.log("開始處理 /api/v1/appointments/tomorrow 的 GET 請求");let r=(0,u.l9)("/appointments/tomorrow");console.log("代理GET請求到:",r);let t={};e.headers.forEach((e,r)=>{"host"!==r&&(t[r]=e)}),t.Accept="application/json",console.log("請求頭:",t);let o=await i.Z.get(r,{headers:t,timeout:1e4});return console.log("後端回應狀態:",o.status),console.log("後端回應數據長度:",o.data?.length||"無數據"),p.Z.json(o.data,{status:o.status})}catch(s){console.error("代理GET請求錯誤詳細信息:",s);let r="未知錯誤",t=s.message||"未知錯誤信息",o=500;return s.response?(o=s.response.status,r=s.response.data?.detail||"請求處理失敗",console.error("錯誤狀態碼:",o),console.error("錯誤數據:",s.response.data),console.error("請求配置:",{url:s.config?.url,method:s.config?.method,params:s.config?.params})):s.request?(o=503,r="無法連接到後端服務器",console.error("未收到回應的請求:",s.request),console.error("請求URL:",s.config?.url)):(r="請求處理失敗",console.error("其他錯誤:",t),console.error("環境信息:",{NODE_ENV:"production",API_BASE_URL:"https://clinic.aspiratcm.com/api/v1"})),p.Z.json({detail:r,message:t,timestamp:new Date().toISOString(),debugInfo:{status:o,url:s.config?.url,method:s.config?.method,requestId:e.headers.get("x-request-id")||"unknown"}},{status:o})}}let l=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/v1/appointments/tomorrow/route",pathname:"/api/v1/appointments/tomorrow",filename:"route",bundlePath:"app/api/v1/appointments/tomorrow/route"},resolvedPagePath:"/Users/mountainfung/Desktop/AWS-Aspiratcm_local/frontend/src/app/api/v1/appointments/tomorrow/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:m,staticGenerationAsyncStorage:d,serverHooks:g,headerHooks:h,staticGenerationBailout:f}=l,q="/api/v1/appointments/tomorrow/route";function x(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:d})}},85638:(e,r,t)=>{t.d(r,{l9:()=>s});var o=t(83949);let s=(e="")=>{let r=e.startsWith("/")?e:`/${e}`;return`https://clinic.aspiratcm.com/api/v1${r}`},a=o.Z.create({baseURL:s(),headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:15e3});a.interceptors.request.use(e=>{if(console.log(`[API請求] ${e.method?.toUpperCase()} ${e.url}`),e.params&&console.log(`[請求參數] ${JSON.stringify(e.params)}`),e.data&&"string"!=typeof e.data)try{console.log(`[請求數據] ${JSON.stringify(e.data)}`)}catch{console.log("[請求數據] 無法序列化")}return e},e=>(console.error("[API請求錯誤]",e),Promise.reject(e))),a.interceptors.response.use(e=>(console.log(`[API響應] ${e.status} ${e.config.url}`),e),e=>{let r=e?.response?.status,t=e?.config?.url,o=e?.config?.method?.toUpperCase();return r?console.error(`[${o} ${t}] 錯誤 ${r}`,e.response.data):console.error("[API錯誤]",e.message),Promise.reject(e)})}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[1638,6206,3949],()=>t(2618));module.exports=o})();