"use strict";(()=>{var e={};e.id=9616,e.ids=[9616],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},57147:e=>{e.exports=require("fs")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},22037:e=>{e.exports=require("os")},71017:e=>{e.exports=require("path")},12781:e=>{e.exports=require("stream")},76224:e=>{e.exports=require("tty")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},6367:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>P,originalPathname:()=>j,patchFetch:()=>y,requestAsyncStorage:()=>m,routeModule:()=>f,serverHooks:()=>x,staticGenerationAsyncStorage:()=>v,staticGenerationBailout:()=>$});var o={};r.r(o),r.d(o,{GET:()=>d,POST:()=>g});var s=r(95419),a=r(69108),n=r(99678),i=r(85638),p=r(78070),c=r(71017),u=r.n(c),l=r(57147),h=r.n(l);async function d(e,{params:t}){let r=(t.path||[]).join("/");console.log(`處理 API 代理請求: /api/v1/test-api-config/${r}`);try{if("settings"===r)return p.Z.json({apiBaseUrl:"https://clinic.aspiratcm.com/api/v1",environment:"production",version:"1.0.0"});if(r.startsWith("data/")&&r.endsWith(".json")){let e=u().resolve("./public",r);console.log(`嘗試讀取靜態檔案: ${e}`);try{if(h().existsSync(e)){let t=h().readFileSync(e,"utf-8"),r=JSON.parse(t);return p.Z.json(r)}}catch(t){return console.error(`讀取或解析 JSON 檔案失敗: ${e}`,t),p.Z.json({error:"無法讀取或解析 JSON 檔案"},{status:500})}return p.Z.json({error:"檔案不存在"},{status:404})}let t=(0,i.l9)(`test-config/${r}`);console.log(`代理請求到: ${t}`);let o={};e.headers.forEach((e,t)=>{"host"!==t&&"connection"!==t&&(o[t]=e)});let s=await fetch(t,{method:e.method,headers:o,body:"GET"!==e.method&&"HEAD"!==e.method?await e.text():void 0}),a=await s.json();return p.Z.json(a,{status:s.status})}catch(e){return console.error(`處理 API 代理請求 /api/v1/test-api-config/${r} 時出錯:`,e),p.Z.json({error:"處理請求時發生錯誤"},{status:500})}}async function g(e,{params:t}){let r=(t.path||[]).join("/");console.log(`處理 POST API 代理請求: /api/v1/test-api-config/${r}`);try{let t=(0,i.l9)(`test-config/${r}`);console.log(`代理 POST 請求到: ${t}`);let o={};e.headers.forEach((e,t)=>{"host"!==t&&"connection"!==t&&(o[t]=e)});let s=await fetch(t,{method:"POST",headers:o,body:await e.text()}),a=await s.json();return p.Z.json(a,{status:s.status})}catch(e){return console.error(`處理 POST API 代理請求 /api/v1/test-api-config/${r} 時出錯:`,e),p.Z.json({error:"處理請求時發生錯誤"},{status:500})}}let f=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/v1/test-api-config/[...path]/route",pathname:"/api/v1/test-api-config/[...path]",filename:"route",bundlePath:"app/api/v1/test-api-config/[...path]/route"},resolvedPagePath:"/Users/mountainfung/Desktop/AWS-Aspiratcm_local/frontend/src/app/api/v1/test-api-config/[...path]/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:m,staticGenerationAsyncStorage:v,serverHooks:x,headerHooks:P,staticGenerationBailout:$}=f,j="/api/v1/test-api-config/[...path]/route";function y(){return(0,n.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:v})}},85638:(e,t,r)=>{r.d(t,{l9:()=>s});var o=r(83949);let s=(e="")=>{let t=e.startsWith("/")?e:`/${e}`;return`https://clinic.aspiratcm.com/api/v1${t}`},a=o.Z.create({baseURL:s(),headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:15e3});a.interceptors.request.use(e=>{if(console.log(`[API請求] ${e.method?.toUpperCase()} ${e.url}`),e.params&&console.log(`[請求參數] ${JSON.stringify(e.params)}`),e.data&&"string"!=typeof e.data)try{console.log(`[請求數據] ${JSON.stringify(e.data)}`)}catch{console.log("[請求數據] 無法序列化")}return e},e=>(console.error("[API請求錯誤]",e),Promise.reject(e))),a.interceptors.response.use(e=>(console.log(`[API響應] ${e.status} ${e.config.url}`),e),e=>{let t=e?.response?.status,r=e?.config?.url,o=e?.config?.method?.toUpperCase();return t?console.error(`[${o} ${r}] 錯誤 ${t}`,e.response.data):console.error("[API錯誤]",e.message),Promise.reject(e)})}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[1638,6206,3949],()=>r(6367));module.exports=o})();