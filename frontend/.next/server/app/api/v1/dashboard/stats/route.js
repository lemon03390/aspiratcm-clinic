"use strict";(()=>{var e={};e.id=6998,e.ids=[6998],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},57147:e=>{e.exports=require("fs")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},22037:e=>{e.exports=require("os")},71017:e=>{e.exports=require("path")},12781:e=>{e.exports=require("stream")},76224:e=>{e.exports=require("tty")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},29063:(e,t,s)=>{s.r(t),s.d(t,{headerHooks:()=>h,originalPathname:()=>f,patchFetch:()=>q,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>x});var r={};s.r(r),s.d(r,{GET:()=>l});var o=s(95419),a=s(69108),n=s(99678),i=s(83949),p=s(78070),u=s(85638);async function l(e){try{console.log("[儀表板統計API] 收到請求");let t=(0,u.l9)("/dashboard/stats");console.log("轉發儀表板統計請求到:",t);let s={};e.headers.forEach((e,t)=>{"host"!==t&&(s[t]=e)}),s.Accept="application/json";let r=await i.Z.get(t,{headers:s,timeout:1e4});return console.log("後端儀表板統計API回應:",r.status),p.Z.json(r.data,{status:r.status})}catch(e){if(console.error("儀表板統計API請求錯誤:",e.message),e.response)return p.Z.json({detail:e.response.data?.detail||"請求處理失敗",message:e.message},{status:e.response.status});if(e.request)return p.Z.json({detail:"無法連接到後端服務",message:e.message},{status:503});return p.Z.json({detail:"請求處理失敗",message:e.message},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/v1/dashboard/stats/route",pathname:"/api/v1/dashboard/stats",filename:"route",bundlePath:"app/api/v1/dashboard/stats/route"},resolvedPagePath:"/Users/mountainfung/Desktop/AWS-Aspiratcm_local/frontend/src/app/api/v1/dashboard/stats/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:g,serverHooks:m,headerHooks:h,staticGenerationBailout:x}=c,f="/api/v1/dashboard/stats/route";function q(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:g})}},85638:(e,t,s)=>{s.d(t,{l9:()=>o});var r=s(83949);let o=(e="")=>{let t=e.startsWith("/")?e:`/${e}`;return`https://clinic.aspiratcm.com/api/v1${t}`},a=r.Z.create({baseURL:o(),headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:15e3});a.interceptors.request.use(e=>{if(console.log(`[API請求] ${e.method?.toUpperCase()} ${e.url}`),e.params&&console.log(`[請求參數] ${JSON.stringify(e.params)}`),e.data&&"string"!=typeof e.data)try{console.log(`[請求數據] ${JSON.stringify(e.data)}`)}catch{console.log("[請求數據] 無法序列化")}return e},e=>(console.error("[API請求錯誤]",e),Promise.reject(e))),a.interceptors.response.use(e=>(console.log(`[API響應] ${e.status} ${e.config.url}`),e),e=>{let t=e?.response?.status,s=e?.config?.url,r=e?.config?.method?.toUpperCase();return t?console.error(`[${r} ${s}] 錯誤 ${t}`,e.response.data):console.error("[API錯誤]",e.message),Promise.reject(e)})}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[1638,6206,3949],()=>s(29063));module.exports=r})();