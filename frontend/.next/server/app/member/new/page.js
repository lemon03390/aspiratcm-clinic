(()=>{var e={};e.id=4284,e.ids=[4284],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},69772:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d});var n=s(50482),r=s(69108),a=s(62563),o=s.n(a),l=s(68300),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);s.d(t,i);let d=["",{children:["member",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,94444)),"/Users/mountainfung/Desktop/AWS-Aspiratcm_local/frontend/src/app/member/new/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,61866)),"/Users/mountainfung/Desktop/AWS-Aspiratcm_local/frontend/src/app/member/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,61334)),"/Users/mountainfung/Desktop/AWS-Aspiratcm_local/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/mountainfung/Desktop/AWS-Aspiratcm_local/frontend/src/app/member/new/page.tsx"],m="/member/new/page",u={require:s,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/member/new/page",pathname:"/member/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},13654:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,26840,23)),Promise.resolve().then(s.t.bind(s,38771,23)),Promise.resolve().then(s.t.bind(s,13225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,43982,23))},77721:(e,t,s)=>{Promise.resolve().then(s.bind(s,85927))},44946:(e,t,s)=>{Promise.resolve().then(s.bind(s,41726))},35303:()=>{},85927:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(95344),r=s(56506),a=s(8428);function o(){let e=(0,a.usePathname)();return n.jsx("nav",{className:"bg-white shadow-md",children:n.jsx("div",{className:"container mx-auto px-4",children:(0,n.jsxs)("div",{className:"flex justify-between h-16",children:[n.jsx("div",{className:"flex items-center",children:n.jsx(r.default,{href:"/dashboard",children:(0,n.jsxs)("div",{className:"flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-blue-600 mr-2",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),n.jsx("span",{className:"font-bold text-lg text-gray-800",children:"診所管理系統"})]})})}),n.jsx("div",{className:"flex space-x-4",children:[{href:"/dashboard",label:"儀表板"},{href:"/appointments",label:"預約管理"},{href:"/member",label:"診所會員"},{href:"/patient_registration",label:"患者登記"},{href:"/medical_record",label:"病歷系統"},{href:"/admin/settings",label:"設定管理"}].map(t=>n.jsx(r.default,{href:t.href,className:`inline-flex items-center px-3 py-2 border-b-2 text-sm font-medium leading-5 transition duration-150 ease-in-out ${e===t.href?"border-blue-500 text-blue-600 focus:outline-none focus:border-blue-700":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300"}`,children:t.label},t.href))})]})})})}},41726:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(95344),r=s(8428),a=s(3729);let o=()=>{let e=(0,r.useRouter)(),[t,s]=(0,a.useState)(!1),[o,l]=(0,a.useState)(""),[i,d]=(0,a.useState)({patientName:"",phoneNumber:"",hkid:"",contactAddress:"",termsConsent:!1,haveCard:!1}),c=e=>{let{name:t,value:s,type:n}=e.target;d(r=>({...r,[t]:"checkbox"===n?e.target.checked:s}))},m=async t=>{t.preventDefault(),s(!0),l("");try{let t=await fetch("/api/v1/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!t.ok){let e=await t.json();throw Error(e.detail||"建立會員時發生錯誤")}e.push("/member")}catch(e){l(e.message||"建立會員時發生未知錯誤"),console.error("建立會員失敗:",e)}finally{s(!1)}};return(0,n.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[o&&n.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 text-red-700 rounded",children:o}),(0,n.jsxs)("form",{onSubmit:m,children:[(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"patientName",children:["姓名 ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{id:"patientName",name:"patientName",type:"text",required:!0,value:i.patientName,onChange:c,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"phoneNumber",children:"電話"}),n.jsx("input",{id:"phoneNumber",name:"phoneNumber",type:"text",value:i.phoneNumber,onChange:c,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"hkid",children:"身份證號碼"}),n.jsx("input",{id:"hkid",name:"hkid",type:"text",value:i.hkid,onChange:c,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"contactAddress",children:"聯絡地址"}),n.jsx("textarea",{id:"contactAddress",name:"contactAddress",value:i.contactAddress,onChange:c,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",rows:3})]}),n.jsx("div",{className:"mb-4",children:(0,n.jsxs)("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",name:"termsConsent",checked:i.termsConsent,onChange:c,className:"mr-2"}),n.jsx("span",{className:"text-gray-700 text-sm font-bold",children:"已簽署同意書"})]})}),n.jsx("div",{className:"mb-4",children:(0,n.jsxs)("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",name:"haveCard",checked:i.haveCard,onChange:c,className:"mr-2"}),n.jsx("span",{className:"text-gray-700 text-sm font-bold",children:"已持有會員卡"})]})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[n.jsx("button",{type:"button",onClick:()=>e.push("/member"),className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"取消"}),n.jsx("button",{type:"submit",disabled:t,className:`bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline ${t?"opacity-50 cursor-not-allowed":""}`,children:t?"處理中...":"儲存"})]})]})]})}},61334:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>i});var n=s(25036);s(5023);let r=(0,s(86843).createProxy)(String.raw`/Users/mountainfung/Desktop/AWS-Aspiratcm_local/frontend/src/app/components/Navbar.tsx`),{__esModule:a,$$typeof:o}=r,l=r.default,i={title:"中醫診所管理系統",description:"診所預約管理系統"};function d({children:e}){return n.jsx("html",{lang:"zh-TW",children:(0,n.jsxs)("body",{suppressHydrationWarning:!0,className:"bg-gray-100 min-h-screen antialiased text-slate-800 font-sans",children:[n.jsx(l,{}),n.jsx("div",{className:"pt-16",children:e})]})})}},61866:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a,metadata:()=>r});var n=s(25036);s(40002);let r={title:"會員管理 - 醫療診所管理系統",description:"會員資料管理頁面"};function a({children:e}){return n.jsx("section",{children:e})}},94444:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(25036),r=s(40002);let a=(0,s(86843).createProxy)(String.raw`/Users/mountainfung/Desktop/AWS-Aspiratcm_local/frontend/src/app/member/components/NewMemberForm.tsx`),{__esModule:o,$$typeof:l}=a,i=a.default;function d(){return n.jsx(r.Suspense,{fallback:n.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"正在載入..."}),children:(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:"新增會員"}),n.jsx(i,{})]})})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[1638,7173],()=>s(69772));module.exports=n})();