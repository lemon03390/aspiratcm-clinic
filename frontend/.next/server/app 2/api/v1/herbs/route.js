"use strict";(()=>{var e={};e.id=986,e.ids=[986],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9491:e=>{e.exports=require("assert")},6113:e=>{e.exports=require("crypto")},2361:e=>{e.exports=require("events")},7147:e=>{e.exports=require("fs")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},2037:e=>{e.exports=require("os")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},6224:e=>{e.exports=require("tty")},7310:e=>{e.exports=require("url")},3837:e=>{e.exports=require("util")},9796:e=>{e.exports=require("zlib")},4687:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>m,originalPathname:()=>f,patchFetch:()=>x,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>d,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>g});var o={};t.r(o),t.d(o,{GET:()=>u});var s=t(5419),a=t(9108),n=t(9678),i=t(8070),p=t(5638);async function u(e){let r=e.nextUrl.searchParams,t=r.get("search")||"",o=r.get("is_compound"),s=r.get("skip")||"0",a=r.get("limit")||"100",n=(0,p.l9)(`/herbs?skip=${s}&limit=${a}`);t&&(n+=`&search=${encodeURIComponent(t)}`),null!==o&&(n+=`&is_compound=${o}`),console.log("Fetching herbs from backend:",n);try{let e=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)return console.error("Error fetching herbs:",e.statusText),i.Z.json({error:`Failed to fetch herbs: ${e.statusText}`},{status:e.status});let r=await e.json();return i.Z.json(r)}catch(e){return console.error("Error fetching herbs:",e),i.Z.json({error:"Failed to fetch herbs"},{status:500})}}let c=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/v1/herbs/route",pathname:"/api/v1/herbs",filename:"route",bundlePath:"app/api/v1/herbs/route"},resolvedPagePath:"/Users/mountainfung/Desktop/AWS-Aspiratcm_local/frontend/src/app/api/v1/herbs/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:h,serverHooks:d,headerHooks:m,staticGenerationBailout:g}=c,f="/api/v1/herbs/route";function x(){return(0,n.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:h})}},5638:(e,r,t)=>{t.d(r,{l9:()=>s});var o=t(3949);let s=(e="")=>{let r=e.startsWith("/")?e:`/${e}`;return`https://clinic.aspiratcm.com/api/v1${r}`},a=o.Z.create({baseURL:s(),headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:15e3});a.interceptors.request.use(e=>{if(console.log(`[API請求] ${e.method?.toUpperCase()} ${e.url}`),e.params&&console.log(`[請求參數] ${JSON.stringify(e.params)}`),e.data&&"string"!=typeof e.data)try{console.log(`[請求數據] ${JSON.stringify(e.data)}`)}catch{console.log("[請求數據] 無法序列化")}return e},e=>(console.error("[API請求錯誤]",e),Promise.reject(e))),a.interceptors.response.use(e=>(console.log(`[API響應] ${e.status} ${e.config.url}`),e),e=>{let r=e?.response?.status,t=e?.config?.url,o=e?.config?.method?.toUpperCase();return r?console.error(`[${o} ${t}] 錯誤 ${r}`,e.response.data):console.error("[API錯誤]",e.message),Promise.reject(e)})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[638,823],()=>t(4687));module.exports=o})();